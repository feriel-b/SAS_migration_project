/*Generating 1000 Normal Samples, each sample of size 10.  Graphing one of*/ /*the generated normal samples.							  */
/*Then Generating a sampling distribution of the sample mean for these    */ /*normal samples of size 10 (That is graphing the 1000 means I computed   */ /*after generating the 100 samples)							  */

%LET N = 10; /* A WAY TO QUICKLY CREATE THE SIZE OF EACH SAMPLE */
%LET NUMSAMPLES = 1000; /* A WAY TO QUICKLY CREATE NUMBER OF SAMPLES */
/* 1. SIMULATE DATA */
DATA SIMNORM;
DO SAMPLEID = 1 TO &NUMSAMPLES;
DO i = 1 TO &N;
X = RANNOR (23);
OUTPUT;
END;
END;
RUN;
/*CREATING A GRAPH OF THE GENERATED X'S THAT ARE NORMALLY DISTRIBUTED)*/
ODS GRAPHICS ON; /* USE ODS GRAPHICS */
PROC UNIVARIATE DATA = SIMNORM;
	HISTOGRAM X /NORMAL;
	ODS SELECT HISTOGRAM;
RUN;
/* 2. COMPUTE MEAN FOR EACH SAMPLE */
PROC MEANS DATA=SIMNORM NOPRINT;
BY SAMPLEID;
VAR X;
OUTPUT OUT=OUTSTATSNORM MEAN=SAMPLEMEAN;
RUN;
/* THE SIMULATED SAMPLE MEANS ARE CONTAINED IN THE */
/*VARIABLE SAMPLEMEAN IN THE OUTSTATSNORM DATA SET  */
/* 3. ANALYZE THE SAMPLE MEANS: SUMMARIZE AND CREATE HISTOGRAM  */
PROC MEANS DATA=OUTSTATSNORM N MEAN STD P5 P95;
VAR SAMPLEMEAN;
RUN;
ODS GRAPHICS ON; /* USE ODS GRAPHICS */
PROC UNIVARIATE DATA=OUTSTATSNORM;
LABEL SAMPLEMEAN = "SAMPLE MEAN OF N(0,1) DATA";
HISTOGRAM SAMPLEMEAN / NORMAL; /* OVERLAY NORMAL FIT */
ODS SELECT HISTOGRAM;
RUN;


DATA HEIGHTS;
   LABEL HEIGHT = 'Female Height (in)';
   INPUT HEIGHT @@;
   DATALINES;
64.1 60.9 64.1 64.7 66.7 65.0 63.7 67.4 64.9 63.7
64.0 67.5 62.8 63.9 65.9 62.3 64.1 60.6 68.6 68.6
63.7 63.0 64.7 68.2 66.7 62.8 64.0 64.1 62.1 62.9
62.7 60.9 61.6 64.6 65.7 66.6 66.7 66.0 68.5 64.4
60.5 63.0 60.0 61.6 64.3 60.2 63.5 64.7 66.0 65.1
63.6 62.0 63.6 65.8 66.0 65.4 63.5 66.3 66.2 67.5
65.8 63.1 65.8 64.4 64.0 64.9 65.7 61.0 64.1 65.5
68.6 66.6 65.7 65.1 70.0
;
PROC PRINT DATA = HEIGHTS;
RUN;
END;

/*Getting the sample mean and sample standard deviation*/
PROC MEANS DATA=HEIGHTS MAXDEC=2 MEAN STD;
   VAR HEIGHT;
RUN;

/*Getting the 95% confidence interval*/
PROC MEANS DATA=HEIGHTS MAXDEC=2 CLM ;
   VAR HEIGHT;
RUN;

/*Getting the 99% confidence interval*/
PROC MEANS DATA=HEIGHTS MAXDEC=2 CLM ALPHA=0.01;
   VAR HEIGHT;
RUN;

PROC UNIVARIATE DATA = HEIGHTS PLOT;
VAR HEIGHT;
RUN;

PROC MEANS DATA=HEIGHTS MAXDEC=2 CLM ALPHA=0.1;
   VAR HEIGHT;
RUN;
