/* Correlation and regression analysis of sample grade data */


DATA WORK;
	INFILE '/home/u63443858/my_shared_file_links/schimiak/HW_4_Final_Exam_Work.csv' DSD;
	INPUT FINAL_GRADE FINAL_EXAM CLASS_WORK;
RUN;

/* Format for grade cutoffs */
PROC FORMAT;
	VALUE CUTOFF
		80-<90 = 'B'
		70-<80 = 'C'
		60-<70 = 'D'
		0-<60 = 'F'
		OTHER = 'A'
		;
RUN;

/* Adding formatted LETTER_GRADE to WORK data set */
DATA WORK;
	SET WORK;
	LETTER_GRADE = FINAL_GRADE;
	FORMAT LETTER_GRADE CUTOFF.;
RUN;

PROC PRINT DATA=WORK;
RUN;

/* Frequency Plot for LETTER_GRADE */
PROC SGPLOT DATA = WORK;
	VBAR LETTER_GRADE;
	TITLE "FREQUENCY CHART LETTER_GRADE";
RUN;
QUIT;


/* SCATTER PLOT FINAL_GRADE vs FINAL_EXAM */
PROC SGPLOT DATA = WORK;
	TITLE "SCATTER: FINAL GRADE vs FINAL EXAM";
	SCATTER Y=FINAL_GRADE X=FINAL_EXAM;
RUN;

/* SCATTER PLOT FINAL_GRADE vs CLASS_WORK */
PROC SGPLOT DATA = WORK;
	TITLE "SCATTER: FINAL GRADE vs CLASS WORK";
	SCATTER X=CLASS_WORK  Y=FINAL_GRADE;
RUN;


PROC CORR DATA = WORK;
	TITLE "CORRELATION: FINAL_EXAM and FINAL_GRADE";
	VAR FINAL_EXAM FINAL_GRADE;
RUN;

PROC CORR DATA = WORK;
	TITLE "CORRELATION: CLASS_WORK and FINAL_GRADE";
	VAR CLASS_WORK FINAL_GRADE;
RUN;

PROC REG DATA = WORK PLOTS=DIAGNOSTICS(STATS=NONE);
	TITLE "REGRESSION: FINAL_GRADE BASED ON FINAL_EXAM";
	MODEL FINAL_GRADE = FINAL_EXAM;
	RUN;
QUIT;

PROC REG DATA = WORK PLOTS=DIAGNOSTICS(STATS=NONE);
	TITLE "REGRESSION: FINAL_GRADE BASED ON CLASS_WORK";
	MODEL FINAL_GRADE = CLASS_WORK;
	RUN;
QUIT;




/* REG_TEST_1_2 */
DATA REGTEST;
	INFILE '/home/u63443858/my_shared_file_links/schimiak/REG_Test_1_2.csv' DSD;
	INPUT TEST_1 TEST_2;
RUN;

PROC PRINT DATA = REGTEST;
	TITLE "TEST 1 and TEST 2 DATA";
RUN;

PROC REG DATA = REGTEST PLOTS=DIAGNOSTICS(STATS=NONE);
	TITLE "REGRESSION: Test_2 BASED ON TEST_1";
	MODEL TEST_2 = TEST_1;
	RUN;
QUIT;